@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #f6f7fb;
}

html, body { height: 100%; }
body {
  @apply bg-[var(--bg)] text-gray-800;
  /* Prevent page scroll to improve DnD on touch */
  overflow: hidden;
}

.container {
  @apply mx-auto max-w-screen-lg px-4;
}

/* Mobile-first touch targets */
.btn {
  @apply rounded-xl px-4 py-3 font-extrabold shadow-soft active:scale-95 transition;
}
.btn-primary { 
  @apply bg-brand text-white;
  [data-theme="barbie"] & { background-color: #ec4899 !important; }
}
.btn-secondary { @apply bg-accent text-gray-900; }
.btn-ghost { @apply border border-gray-200; }

.card { @apply bg-white rounded-xl shadow-soft; }

/* Fullscreen game surface helpers */
.game-screen { @apply w-screen h-[100svh] overflow-hidden; }
.game-area { @apply h-full touch-none; }

/* Tiny progress bar */
.progress { @apply w-full h-1.5 bg-gray-200 rounded-full overflow-hidden; }
.progress > .bar { @apply h-full transition-all; }

/* Bottom nav safe area */
.bottom-safe { padding-bottom: env(safe-area-inset-bottom); }

/* Scrollbar (thin) */
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 999px; }

/* THEME OVERRIDES */
[data-theme="barbie"] { --bg: #fff1f7; }
[data-theme="barbie"] .bg-brand { background-color: #ec4899 !important; }
[data-theme="barbie"] .text-brand { color: #ec4899 !important; }
[data-theme="barbie"] .progress > .bar { background-color: #ec4899; }

/* Animations */
@keyframes pump {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}
.animate-pump { animation: pump 900ms ease-in-out 0s 3; }

@keyframes pointerPulse {
  0%, 100% { transform: translateX(0); opacity: 0.9; }
  50% { transform: translateX(4px); opacity: 1; }
}
.animate-pointer { animation: pointerPulse 1.2s ease-in-out infinite; display: inline-block; }

@keyframes pop {
  0% { transform: scale(1); }
  40% { transform: scale(1.08); }
  100% { transform: scale(1); }
}
.animate-pop { animation: pop 260ms ease-out; }
