"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/store.ts":
/*!**********************!*\
  !*** ./lib/store.ts ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   REWARDS: function() { return /* binding */ REWARDS; },\n/* harmony export */   useGameStore: function() { return /* binding */ useGameStore; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var _levels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./levels */ \"(app-pages-browser)/./lib/levels.ts\");\n/* __next_internal_client_entry_do_not_use__ REWARDS,useGameStore auto */ \n\n\n\n// Rewards catalog (ids used for future profile sync)\nconst REWARDS = [\n    {\n        id: \"star\",\n        label: \"Shiny Star\",\n        emoji: \"\\uD83C\\uDF1F\",\n        cost: 50\n    },\n    {\n        id: \"rocket\",\n        label: \"Rocket\",\n        emoji: \"\\uD83D\\uDE80\",\n        cost: 120\n    },\n    {\n        id: \"rainbow\",\n        label: \"Rainbow\",\n        emoji: \"\\uD83C\\uDF08\",\n        cost: 250\n    },\n    {\n        id: \"unicorn\",\n        label: \"Unicorn\",\n        emoji: \"\\uD83E\\uDD84\",\n        cost: 400\n    }\n];\nconst DEFAULT = {\n    profile: {\n        points: 0,\n        streak: 0,\n        bestStreak: 0,\n        level: 1,\n        maxFactor: 2,\n        levelXP: 0,\n        totalCorrect: 0,\n        totalAttempts: 0,\n        soundOn: true,\n        unlocked: {},\n        language: \"en\",\n        theme: \"buzz\"\n    },\n    mastery: {},\n    recentMistakes: [],\n    lastOp: undefined,\n    sessionStartAt: undefined,\n    sessionAttempts: 0,\n    sessionCorrect: 0\n};\n// Simple SRS intervals (seconds)\nconst START_INTERVALS = [\n    10,\n    60,\n    300,\n    1800,\n    86400,\n    259200\n];\nfunction makeChoices(correct) {\n    const set = new Set([\n        correct\n    ]);\n    while(set.size < 4){\n        const delta = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.rand)(9) - 4;\n        const val = Math.max(0, correct + delta + (delta === 0 ? (0,_utils__WEBPACK_IMPORTED_MODULE_0__.rand)(3) + 1 : 0));\n        set.add(val);\n    }\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.shuffle)([\n        ...set\n    ]);\n}\n// Level-based selection ratios for prior review (approximation of the plan)\nconst PRIOR_RATIOS = {\n    1: 0,\n    2: 0.2,\n    3: 0.1,\n    4: 0.2,\n    5: 0.2,\n    6: 0.2,\n    7: 0.25,\n    8: 0.3,\n    9: 0.3,\n    10: 0.4\n};\nfunction pickGame(op, a, b) {\n    // Rule: use coins when multiplication product > 10; for division, when dividend (a) > 10. Otherwise apples.\n    if (op === \"mul\") {\n        return a * b > 10 ? \"coins-multiply-groups\" : \"multiply-groups\";\n    }\n    // op === 'div'\n    return a > 10 ? \"coins-division-dealer\" : \"division-dealer\";\n}\nfunction buildChallenge(level) {\n    var _PRIOR_RATIOS_level;\n    const ratio = (_PRIOR_RATIOS_level = PRIOR_RATIOS[level]) !== null && _PRIOR_RATIOS_level !== void 0 ? _PRIOR_RATIOS_level : 0.2;\n    const f = (0,_levels__WEBPACK_IMPORTED_MODULE_1__.pickFromLevel)(level, ratio);\n    const id = \"\".concat(f.id, \":\").concat(Date.now());\n    const input = Math.random() < 0.75 ? \"mc\" : \"wheel\";\n    return {\n        id,\n        op: f.op,\n        a: f.a,\n        b: f.b,\n        answer: f.answer,\n        choices: makeChoices(f.answer),\n        game: pickGame(f.op, f.a, f.b),\n        input\n    };\n}\nfunction updateMastery(m, correct) {\n    const now = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.nowSec)();\n    if (!m) {\n        const ease = correct ? 2.0 : 1.6;\n        const intervalSec = correct ? START_INTERVALS[0] : 10;\n        return {\n            key: \"\",\n            score: correct ? 1 : 0,\n            ease,\n            intervalSec,\n            dueAt: now + intervalSec,\n            lastResult: correct\n        };\n    }\n    let score = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(m.score + (correct ? 1 : -2), 0, 5);\n    let ease = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(m.ease + (correct ? 0.08 : -0.2), 1.2, 2.6);\n    let intervalSec = correct ? Math.max(START_INTERVALS[0], Math.round(m.intervalSec * ease)) : 10;\n    return {\n        ...m,\n        score,\n        ease,\n        intervalSec,\n        dueAt: now + intervalSec,\n        lastResult: correct\n    };\n}\nconst useGameStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_3__.persist)((set, get)=>({\n        ...DEFAULT,\n        startSession: ()=>set((s)=>s.sessionStartAt ? s : {\n                    sessionStartAt: Date.now(),\n                    sessionAttempts: 0,\n                    sessionCorrect: 0\n                }),\n        endSession: ()=>set((s)=>{\n                if (!s.sessionStartAt) return s;\n                const durationMs = Date.now() - s.sessionStartAt;\n                return {\n                    lastSession: {\n                        durationMs,\n                        attempts: s.sessionAttempts,\n                        correct: s.sessionCorrect\n                    },\n                    sessionStartAt: undefined\n                };\n            }),\n        setLanguage: (lang)=>set((s)=>({\n                    profile: {\n                        ...s.profile,\n                        language: lang\n                    }\n                })),\n        setTheme: (theme)=>set((s)=>({\n                    profile: {\n                        ...s.profile,\n                        theme\n                    }\n                })),\n        nextChallenge: ()=>{\n            const s = get();\n            const ch = buildChallenge(s.profile.level);\n            set({\n                current: ch,\n                startedAt: Date.now(),\n                lastOp: ch.op\n            });\n        },\n        answer: (value)=>{\n            const s = get();\n            const ch = s.current;\n            if (!ch) return;\n            const correct = value === ch.answer;\n            var _s_startedAt;\n            const timeMs = Date.now() - ((_s_startedAt = s.startedAt) !== null && _s_startedAt !== void 0 ? _s_startedAt : Date.now());\n            const key = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.keyFor)(ch.op, ch.a, ch.b);\n            const prev = s.mastery[key];\n            const updated = updateMastery(prev && {\n                ...prev,\n                key\n            }, correct);\n            updated.key = key;\n            const pointsBase = 10;\n            const streakBonus = Math.min(10, Math.max(0, s.profile.streak * 2));\n            const profile = {\n                ...s.profile\n            };\n            profile.totalAttempts += 1;\n            if (correct) {\n                profile.totalCorrect += 1;\n                profile.streak += 1;\n                profile.bestStreak = Math.max(profile.bestStreak, profile.streak);\n                profile.points += pointsBase + streakBonus;\n                // Level progress: 10 correct answers to complete a level\n                const target = 10;\n                var _profile_levelXP;\n                profile.levelXP = ((_profile_levelXP = profile.levelXP) !== null && _profile_levelXP !== void 0 ? _profile_levelXP : 0) + 1;\n                if (profile.levelXP >= target) {\n                    if (profile.level >= 10) {\n                        // Enter review mode at cap and show champion overlay\n                        profile.level = 10;\n                        profile.maxFactor = 10;\n                        profile.levelXP = 0;\n                        set({\n                            reviewMode: true,\n                            championPending: true,\n                            badgeFlash: true\n                        });\n                        setTimeout(()=>set({\n                                badgeFlash: false\n                            }), 1400);\n                    } else {\n                        const nextLevel = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(profile.level + 1, 1, 10);\n                        profile.level = nextLevel;\n                        profile.maxFactor = nextLevel;\n                        profile.levelXP = 0;\n                        // trigger overlay and badge flash\n                        set({\n                            levelUpPending: nextLevel,\n                            badgeFlash: true\n                        });\n                        // auto-clear the badge flash after a short delay\n                        setTimeout(()=>set({\n                                badgeFlash: false\n                            }), 1400);\n                    }\n                }\n                // unlock rewards\n                for (const r of REWARDS){\n                    if (profile.points >= r.cost) profile.unlocked[r.id] = true;\n                }\n            } else {\n                profile.streak = 0;\n                // no level down; gentle progression\n                const mkey = ch.op === \"mul\" ? \"m:\".concat(ch.a, \"x\").concat(ch.b) : \"d:\".concat(ch.a, \"/\").concat(ch.b);\n                const q = s.recentMistakes.slice();\n                if (!q.includes(mkey)) q.push(mkey);\n                set({\n                    recentMistakes: q\n                });\n            }\n            const mastery = {\n                ...s.mastery,\n                [updated.key]: updated\n            };\n            var _s_sessionAttempts, _s_sessionCorrect;\n            set({\n                profile,\n                mastery,\n                sessionAttempts: ((_s_sessionAttempts = s.sessionAttempts) !== null && _s_sessionAttempts !== void 0 ? _s_sessionAttempts : 0) + 1,\n                sessionCorrect: ((_s_sessionCorrect = s.sessionCorrect) !== null && _s_sessionCorrect !== void 0 ? _s_sessionCorrect : 0) + (correct ? 1 : 0)\n            });\n            // immediately schedule next\n            get().nextChallenge();\n        },\n        toggleSound: ()=>set((s)=>({\n                    profile: {\n                        ...s.profile,\n                        soundOn: !s.profile.soundOn\n                    }\n                })),\n        dismissLevelUp: ()=>set({\n                levelUpPending: undefined\n            }),\n        dismissChampion: ()=>set({\n                championPending: undefined\n            }),\n        flashBadge: ()=>{\n            set({\n                badgeFlash: true\n            });\n            setTimeout(()=>set({\n                    badgeFlash: false\n                }), 1200);\n        }\n    }), {\n    name: \"mg2_state\"\n}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFdkMsY0FBYyxjQUFoQnVDLCtCQUFBQSxvQkFBb0IsS0FBTXBDLENBQUFBLFVBQVUsSUFBSTtZQUFHO1lBRW5JLDRCQUE0QjtZQUM1QmtDLE1BQU1VLGFBQWE7UUFDckI7UUFDQXdCLGFBQWEsSUFBTW5FLElBQUltQyxDQUFBQSxJQUFNO29CQUFFMUQsU0FBUzt3QkFBRSxHQUFHMEQsRUFBRTFELE9BQU87d0JBQUVTLFNBQVMsQ0FBQ2lELEVBQUUxRCxPQUFPLENBQUNTLE9BQU87b0JBQUM7Z0JBQUU7UUFDdEZrRixnQkFBZ0IsSUFBTXBFLElBQUk7Z0JBQUU0RCxnQkFBZ0JuRTtZQUFVO1FBQ3RENEUsaUJBQWlCLElBQU1yRSxJQUFJO2dCQUFFd0QsaUJBQWlCL0Q7WUFBVTtRQUN4RDZFLFlBQVk7WUFDVnRFLElBQUk7Z0JBQUV5RCxZQUFZO1lBQUs7WUFDdkJDLFdBQVcsSUFBTTFELElBQUk7b0JBQUV5RCxZQUFZO2dCQUFNLElBQUk7UUFDL0M7SUFDRixJQUFJO0lBQUVjLE1BQU07QUFBWSxJQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9zdG9yZS50cz9lODQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJ1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSdcbmltcG9ydCB7IEF0dGVtcHQsIENoYWxsZW5nZSwgR2FtZVN0YXRlLCBNYXN0ZXJ5LCBPcCB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBjaG9pY2UsIGNsYW1wLCBrZXlGb3IsIG5vd1NlYywgcmFuZCwgc2h1ZmZsZSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBwaWNrRnJvbUxldmVsIH0gZnJvbSAnLi9sZXZlbHMnXG5cbi8vIFJld2FyZHMgY2F0YWxvZyAoaWRzIHVzZWQgZm9yIGZ1dHVyZSBwcm9maWxlIHN5bmMpXG5leHBvcnQgY29uc3QgUkVXQVJEUyA9IFtcbiAgeyBpZDogJ3N0YXInLCBsYWJlbDogJ1NoaW55IFN0YXInLCBlbW9qaTogJ/CfjJ8nLCBjb3N0OiA1MCB9LFxuICB7IGlkOiAncm9ja2V0JywgbGFiZWw6ICdSb2NrZXQnLCBlbW9qaTogJ/CfmoAnLCBjb3N0OiAxMjAgfSxcbiAgeyBpZDogJ3JhaW5ib3cnLCBsYWJlbDogJ1JhaW5ib3cnLCBlbW9qaTogJ/CfjIgnLCBjb3N0OiAyNTAgfSxcbiAgeyBpZDogJ3VuaWNvcm4nLCBsYWJlbDogJ1VuaWNvcm4nLCBlbW9qaTogJ/CfpoQnLCBjb3N0OiA0MDAgfSxcbl1cblxuY29uc3QgREVGQVVMVDogR2FtZVN0YXRlID0ge1xuICBwcm9maWxlOiB7XG4gICAgcG9pbnRzOiAwLFxuICAgIHN0cmVhazogMCxcbiAgICBiZXN0U3RyZWFrOiAwLFxuICAgIGxldmVsOiAxLFxuICAgIG1heEZhY3RvcjogMixcbiAgICBsZXZlbFhQOiAwLFxuICAgIHRvdGFsQ29ycmVjdDogMCxcbiAgICB0b3RhbEF0dGVtcHRzOiAwLFxuICAgIHNvdW5kT246IHRydWUsXG4gICAgdW5sb2NrZWQ6IHt9LFxuICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgIHRoZW1lOiAnYnV6eicsXG4gIH0sXG4gIG1hc3Rlcnk6IHt9LFxuICByZWNlbnRNaXN0YWtlczogW10sXG4gIGxhc3RPcDogdW5kZWZpbmVkLFxuICBzZXNzaW9uU3RhcnRBdDogdW5kZWZpbmVkLFxuICBzZXNzaW9uQXR0ZW1wdHM6IDAsXG4gIHNlc3Npb25Db3JyZWN0OiAwLFxufVxuXG50eXBlIFN0b3JlID0gR2FtZVN0YXRlICYge1xuICBjdXJyZW50PzogQ2hhbGxlbmdlXG4gIHN0YXJ0ZWRBdD86IG51bWJlclxuICBsZXZlbFVwUGVuZGluZz86IG51bWJlciAvLyBzaG93cyBvdmVybGF5IHdoZW4gc2V0IHRvIHRoZSByZWFjaGVkIGxldmVsXG4gIGJhZGdlRmxhc2g/OiBib29sZWFuXG4gIHJldmlld01vZGU/OiBib29sZWFuXG4gIGNoYW1waW9uUGVuZGluZz86IGJvb2xlYW5cbiAgLy8gYWN0aW9uc1xuICBuZXh0Q2hhbGxlbmdlOiAoKSA9PiB2b2lkXG4gIGFuc3dlcjogKHZhbHVlOiBudW1iZXIpID0+IHZvaWRcbiAgdG9nZ2xlU291bmQ6ICgpID0+IHZvaWRcbiAgc3RhcnRTZXNzaW9uOiAoKSA9PiB2b2lkXG4gIGVuZFNlc3Npb246ICgpID0+IHZvaWRcbiAgc2V0TGFuZ3VhZ2U6IChsYW5nOiAnZW4nIHwgJ3J1JyB8ICdoZScpID0+IHZvaWRcbiAgc2V0VGhlbWU6ICh0aGVtZTogJ2J1enonIHwgJ2JhcmJpZScpID0+IHZvaWRcbiAgZGlzbWlzc0xldmVsVXA6ICgpID0+IHZvaWRcbiAgZmxhc2hCYWRnZTogKCkgPT4gdm9pZFxuICBkaXNtaXNzQ2hhbXBpb246ICgpID0+IHZvaWRcbn1cblxuLy8gU2ltcGxlIFNSUyBpbnRlcnZhbHMgKHNlY29uZHMpXG5jb25zdCBTVEFSVF9JTlRFUlZBTFMgPSBbMTAsIDYwLCAzMDAsIDE4MDAsIDg2NDAwLCAyNTkyMDBdXG5cbmZ1bmN0aW9uIG1ha2VDaG9pY2VzKGNvcnJlY3Q6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3Qgc2V0ID0gbmV3IFNldDxudW1iZXI+KFtjb3JyZWN0XSlcbiAgd2hpbGUgKHNldC5zaXplIDwgNCkge1xuICAgIGNvbnN0IGRlbHRhID0gcmFuZCg5KSAtIDRcbiAgICBjb25zdCB2YWwgPSBNYXRoLm1heCgwLCBjb3JyZWN0ICsgZGVsdGEgKyAoZGVsdGEgPT09IDAgPyByYW5kKDMpKzEgOiAwKSlcbiAgICBzZXQuYWRkKHZhbClcbiAgfVxuICByZXR1cm4gc2h1ZmZsZShbLi4uc2V0XSlcbn1cblxuLy8gTGV2ZWwtYmFzZWQgc2VsZWN0aW9uIHJhdGlvcyBmb3IgcHJpb3IgcmV2aWV3IChhcHByb3hpbWF0aW9uIG9mIHRoZSBwbGFuKVxuY29uc3QgUFJJT1JfUkFUSU9TOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+ID0ge1xuICAxOiAwLFxuICAyOiAwLjIsXG4gIDM6IDAuMSxcbiAgNDogMC4yLFxuICA1OiAwLjIsXG4gIDY6IDAuMixcbiAgNzogMC4yNSxcbiAgODogMC4zLFxuICA5OiAwLjMsXG4gIDEwOiAwLjQsXG59XG5cbmZ1bmN0aW9uIHBpY2tHYW1lKG9wOiBPcCwgYTogbnVtYmVyLCBiOiBudW1iZXIpOiBDaGFsbGVuZ2VbJ2dhbWUnXSB7XG4gIC8vIFJ1bGU6IHVzZSBjb2lucyB3aGVuIG11bHRpcGxpY2F0aW9uIHByb2R1Y3QgPiAxMDsgZm9yIGRpdmlzaW9uLCB3aGVuIGRpdmlkZW5kIChhKSA+IDEwLiBPdGhlcndpc2UgYXBwbGVzLlxuICBpZiAob3AgPT09ICdtdWwnKSB7XG4gICAgcmV0dXJuIChhICogYiA+IDEwKSA/ICdjb2lucy1tdWx0aXBseS1ncm91cHMnIDogJ211bHRpcGx5LWdyb3VwcydcbiAgfVxuICAvLyBvcCA9PT0gJ2RpdidcbiAgcmV0dXJuIChhID4gMTApID8gJ2NvaW5zLWRpdmlzaW9uLWRlYWxlcicgOiAnZGl2aXNpb24tZGVhbGVyJ1xufVxuXG5mdW5jdGlvbiBidWlsZENoYWxsZW5nZShsZXZlbDogbnVtYmVyKTogQ2hhbGxlbmdlIHtcbiAgY29uc3QgcmF0aW8gPSBQUklPUl9SQVRJT1NbbGV2ZWxdID8/IDAuMlxuICBjb25zdCBmID0gcGlja0Zyb21MZXZlbChsZXZlbCwgcmF0aW8pXG4gIGNvbnN0IGlkID0gYCR7Zi5pZH06JHtEYXRlLm5vdygpfWBcbiAgY29uc3QgaW5wdXQgPSBNYXRoLnJhbmRvbSgpIDwgMC43NSA/ICdtYycgOiAnd2hlZWwnXG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgb3A6IGYub3AsXG4gICAgYTogZi5hLFxuICAgIGI6IGYuYixcbiAgICBhbnN3ZXI6IGYuYW5zd2VyLFxuICAgIGNob2ljZXM6IG1ha2VDaG9pY2VzKGYuYW5zd2VyKSxcbiAgICBnYW1lOiBwaWNrR2FtZShmLm9wLCBmLmEsIGYuYiksXG4gICAgaW5wdXQsXG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTWFzdGVyeShtOiBNYXN0ZXJ5IHwgdW5kZWZpbmVkLCBjb3JyZWN0OiBib29sZWFuKTogTWFzdGVyeSB7XG4gIGNvbnN0IG5vdyA9IG5vd1NlYygpXG4gIGlmICghbSkge1xuICAgIGNvbnN0IGVhc2UgPSBjb3JyZWN0ID8gMi4wIDogMS42XG4gICAgY29uc3QgaW50ZXJ2YWxTZWMgPSBjb3JyZWN0ID8gU1RBUlRfSU5URVJWQUxTWzBdIDogMTBcbiAgICByZXR1cm4geyBrZXk6ICcnLCBzY29yZTogY29ycmVjdCA/IDEgOiAwLCBlYXNlLCBpbnRlcnZhbFNlYywgZHVlQXQ6IG5vdyArIGludGVydmFsU2VjLCBsYXN0UmVzdWx0OiBjb3JyZWN0IH1cbiAgfVxuICBsZXQgc2NvcmUgPSBjbGFtcChtLnNjb3JlICsgKGNvcnJlY3QgPyAxIDogLTIpLCAwLCA1KVxuICBsZXQgZWFzZSA9IGNsYW1wKG0uZWFzZSArIChjb3JyZWN0ID8gMC4wOCA6IC0wLjIpLCAxLjIsIDIuNilcbiAgbGV0IGludGVydmFsU2VjID0gY29ycmVjdCA/IE1hdGgubWF4KFNUQVJUX0lOVEVSVkFMU1swXSwgTWF0aC5yb3VuZChtLmludGVydmFsU2VjICogZWFzZSkpIDogMTBcbiAgcmV0dXJuIHsgLi4ubSwgc2NvcmUsIGVhc2UsIGludGVydmFsU2VjLCBkdWVBdDogbm93ICsgaW50ZXJ2YWxTZWMsIGxhc3RSZXN1bHQ6IGNvcnJlY3QgfVxufVxuXG5leHBvcnQgY29uc3QgdXNlR2FtZVN0b3JlID0gY3JlYXRlPFN0b3JlPigpKHBlcnNpc3QoKHNldCwgZ2V0KSA9PiAoe1xuICAuLi5ERUZBVUxULFxuICBzdGFydFNlc3Npb246ICgpID0+IHNldChzID0+IHMuc2Vzc2lvblN0YXJ0QXQgPyBzIDogKHsgc2Vzc2lvblN0YXJ0QXQ6IERhdGUubm93KCksIHNlc3Npb25BdHRlbXB0czogMCwgc2Vzc2lvbkNvcnJlY3Q6IDAgfSkpLFxuICBlbmRTZXNzaW9uOiAoKSA9PiBzZXQocyA9PiB7XG4gICAgaWYgKCFzLnNlc3Npb25TdGFydEF0KSByZXR1cm4gc1xuICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBEYXRlLm5vdygpIC0gcy5zZXNzaW9uU3RhcnRBdFxuICAgIHJldHVybiB7IGxhc3RTZXNzaW9uOiB7IGR1cmF0aW9uTXMsIGF0dGVtcHRzOiBzLnNlc3Npb25BdHRlbXB0cywgY29ycmVjdDogcy5zZXNzaW9uQ29ycmVjdCB9LCBzZXNzaW9uU3RhcnRBdDogdW5kZWZpbmVkIH1cbiAgfSksXG4gIHNldExhbmd1YWdlOiAobGFuZykgPT4gc2V0KHMgPT4gKHsgcHJvZmlsZTogeyAuLi5zLnByb2ZpbGUsIGxhbmd1YWdlOiBsYW5nIH0gfSkpLFxuICBzZXRUaGVtZTogKHRoZW1lKSA9PiBzZXQocyA9PiAoeyBwcm9maWxlOiB7IC4uLnMucHJvZmlsZSwgdGhlbWUgfSB9KSksXG4gIG5leHRDaGFsbGVuZ2U6ICgpID0+IHtcbiAgICBjb25zdCBzID0gZ2V0KClcbiAgICBjb25zdCBjaCA9IGJ1aWxkQ2hhbGxlbmdlKHMucHJvZmlsZS5sZXZlbClcbiAgICBzZXQoeyBjdXJyZW50OiBjaCwgc3RhcnRlZEF0OiBEYXRlLm5vdygpLCBsYXN0T3A6IGNoLm9wIH0pXG4gIH0sXG4gIGFuc3dlcjogKHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzID0gZ2V0KClcbiAgICBjb25zdCBjaCA9IHMuY3VycmVudDsgaWYgKCFjaCkgcmV0dXJuXG4gICAgY29uc3QgY29ycmVjdCA9IHZhbHVlID09PSBjaC5hbnN3ZXJcbiAgICBjb25zdCB0aW1lTXMgPSBEYXRlLm5vdygpIC0gKHMuc3RhcnRlZEF0ID8/IERhdGUubm93KCkpXG5cbiAgICBjb25zdCBrZXkgPSBrZXlGb3IoY2gub3AsIGNoLmEsIGNoLmIpXG4gICAgY29uc3QgcHJldiA9IHMubWFzdGVyeVtrZXldXG4gICAgY29uc3QgdXBkYXRlZCA9IHVwZGF0ZU1hc3RlcnkocHJldiAmJiB7IC4uLnByZXYsIGtleSB9LCBjb3JyZWN0KVxuICAgIHVwZGF0ZWQua2V5ID0ga2V5XG5cbiAgICBjb25zdCBwb2ludHNCYXNlID0gMTBcbiAgICBjb25zdCBzdHJlYWtCb251cyA9IE1hdGgubWluKDEwLCBNYXRoLm1heCgwLCAocy5wcm9maWxlLnN0cmVhaykgKiAyKSlcblxuICAgIGNvbnN0IHByb2ZpbGUgPSB7IC4uLnMucHJvZmlsZSB9XG4gICAgcHJvZmlsZS50b3RhbEF0dGVtcHRzICs9IDFcbiAgICBpZiAoY29ycmVjdCkge1xuICAgICAgcHJvZmlsZS50b3RhbENvcnJlY3QgKz0gMVxuICAgICAgcHJvZmlsZS5zdHJlYWsgKz0gMVxuICAgICAgcHJvZmlsZS5iZXN0U3RyZWFrID0gTWF0aC5tYXgocHJvZmlsZS5iZXN0U3RyZWFrLCBwcm9maWxlLnN0cmVhaylcbiAgICAgIHByb2ZpbGUucG9pbnRzICs9IHBvaW50c0Jhc2UgKyBzdHJlYWtCb251c1xuICAgICAgLy8gTGV2ZWwgcHJvZ3Jlc3M6IDEwIGNvcnJlY3QgYW5zd2VycyB0byBjb21wbGV0ZSBhIGxldmVsXG4gICAgICBjb25zdCB0YXJnZXQgPSAxMFxuICAgICAgcHJvZmlsZS5sZXZlbFhQID0gKHByb2ZpbGUubGV2ZWxYUCA/PyAwKSArIDFcbiAgICAgIGlmIChwcm9maWxlLmxldmVsWFAgPj0gdGFyZ2V0KSB7XG4gICAgICAgIGlmIChwcm9maWxlLmxldmVsID49IDEwKSB7XG4gICAgICAgICAgLy8gRW50ZXIgcmV2aWV3IG1vZGUgYXQgY2FwIGFuZCBzaG93IGNoYW1waW9uIG92ZXJsYXlcbiAgICAgICAgICBwcm9maWxlLmxldmVsID0gMTBcbiAgICAgICAgICBwcm9maWxlLm1heEZhY3RvciA9IDEwXG4gICAgICAgICAgcHJvZmlsZS5sZXZlbFhQID0gMFxuICAgICAgICAgIHNldCh7IHJldmlld01vZGU6IHRydWUsIGNoYW1waW9uUGVuZGluZzogdHJ1ZSwgYmFkZ2VGbGFzaDogdHJ1ZSB9KVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0KHsgYmFkZ2VGbGFzaDogZmFsc2UgfSksIDE0MDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV4dExldmVsID0gY2xhbXAocHJvZmlsZS5sZXZlbCArIDEsIDEsIDEwKVxuICAgICAgICAgIHByb2ZpbGUubGV2ZWwgPSBuZXh0TGV2ZWxcbiAgICAgICAgICBwcm9maWxlLm1heEZhY3RvciA9IG5leHRMZXZlbFxuICAgICAgICAgIHByb2ZpbGUubGV2ZWxYUCA9IDBcbiAgICAgICAgICAvLyB0cmlnZ2VyIG92ZXJsYXkgYW5kIGJhZGdlIGZsYXNoXG4gICAgICAgICAgc2V0KHsgbGV2ZWxVcFBlbmRpbmc6IG5leHRMZXZlbCwgYmFkZ2VGbGFzaDogdHJ1ZSB9KVxuICAgICAgICAgIC8vIGF1dG8tY2xlYXIgdGhlIGJhZGdlIGZsYXNoIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldCh7IGJhZGdlRmxhc2g6IGZhbHNlIH0pLCAxNDAwKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB1bmxvY2sgcmV3YXJkc1xuICAgICAgZm9yIChjb25zdCByIG9mIFJFV0FSRFMpIHtcbiAgICAgICAgaWYgKHByb2ZpbGUucG9pbnRzID49IHIuY29zdCkgcHJvZmlsZS51bmxvY2tlZFtyLmlkXSA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZS5zdHJlYWsgPSAwXG4gICAgICAvLyBubyBsZXZlbCBkb3duOyBnZW50bGUgcHJvZ3Jlc3Npb25cbiAgICAgIGNvbnN0IG1rZXkgPSBjaC5vcCA9PT0gJ211bCcgPyBgbToke2NoLmF9eCR7Y2guYn1gIDogYGQ6JHtjaC5hfS8ke2NoLmJ9YFxuICAgICAgY29uc3QgcSA9IHMucmVjZW50TWlzdGFrZXMuc2xpY2UoKVxuICAgICAgaWYgKCFxLmluY2x1ZGVzKG1rZXkpKSBxLnB1c2gobWtleSlcbiAgICAgIHNldCh7IHJlY2VudE1pc3Rha2VzOiBxIH0pXG4gICAgfVxuXG4gICAgY29uc3QgbWFzdGVyeSA9IHsgLi4ucy5tYXN0ZXJ5LCBbdXBkYXRlZC5rZXldOiB1cGRhdGVkIH1cblxuICAgIHNldCh7IHByb2ZpbGUsIG1hc3RlcnksIHNlc3Npb25BdHRlbXB0czogKHMuc2Vzc2lvbkF0dGVtcHRzID8/IDApICsgMSwgc2Vzc2lvbkNvcnJlY3Q6IChzLnNlc3Npb25Db3JyZWN0ID8/IDApICsgKGNvcnJlY3QgPyAxIDogMCkgfSlcblxuICAgIC8vIGltbWVkaWF0ZWx5IHNjaGVkdWxlIG5leHRcbiAgICBnZXQoKS5uZXh0Q2hhbGxlbmdlKClcbiAgfSxcbiAgdG9nZ2xlU291bmQ6ICgpID0+IHNldChzID0+ICh7IHByb2ZpbGU6IHsgLi4ucy5wcm9maWxlLCBzb3VuZE9uOiAhcy5wcm9maWxlLnNvdW5kT24gfSB9KSksXG4gIGRpc21pc3NMZXZlbFVwOiAoKSA9PiBzZXQoeyBsZXZlbFVwUGVuZGluZzogdW5kZWZpbmVkIH0pLFxuICBkaXNtaXNzQ2hhbXBpb246ICgpID0+IHNldCh7IGNoYW1waW9uUGVuZGluZzogdW5kZWZpbmVkIH0pLFxuICBmbGFzaEJhZGdlOiAoKSA9PiB7XG4gICAgc2V0KHsgYmFkZ2VGbGFzaDogdHJ1ZSB9KVxuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0KHsgYmFkZ2VGbGFzaDogZmFsc2UgfSksIDEyMDApXG4gIH0sXG59KSwgeyBuYW1lOiAnbWcyX3N0YXRlJyB9KSlcbiJdLCJuYW1lcyI6WyJjcmVhdGUiLCJwZXJzaXN0IiwiY2xhbXAiLCJrZXlGb3IiLCJub3dTZWMiLCJyYW5kIiwic2h1ZmZsZSIsInBpY2tGcm9tTGV2ZWwiLCJSRVdBUkRTIiwiaWQiLCJsYWJlbCIsImVtb2ppIiwiY29zdCIsIkRFRkFVTFQiLCJwcm9maWxlIiwicG9pbnRzIiwic3RyZWFrIiwiYmVzdFN0cmVhayIsImxldmVsIiwibWF4RmFjdG9yIiwibGV2ZWxYUCIsInRvdGFsQ29ycmVjdCIsInRvdGFsQXR0ZW1wdHMiLCJzb3VuZE9uIiwidW5sb2NrZWQiLCJsYW5ndWFnZSIsInRoZW1lIiwibWFzdGVyeSIsInJlY2VudE1pc3Rha2VzIiwibGFzdE9wIiwidW5kZWZpbmVkIiwic2Vzc2lvblN0YXJ0QXQiLCJzZXNzaW9uQXR0ZW1wdHMiLCJzZXNzaW9uQ29ycmVjdCIsIlNUQVJUX0lOVEVSVkFMUyIsIm1ha2VDaG9pY2VzIiwiY29ycmVjdCIsInNldCIsIlNldCIsInNpemUiLCJkZWx0YSIsInZhbCIsIk1hdGgiLCJtYXgiLCJhZGQiLCJQUklPUl9SQVRJT1MiLCJwaWNrR2FtZSIsIm9wIiwiYSIsImIiLCJidWlsZENoYWxsZW5nZSIsInJhdGlvIiwiZiIsIkRhdGUiLCJub3ciLCJpbnB1dCIsInJhbmRvbSIsImFuc3dlciIsImNob2ljZXMiLCJnYW1lIiwidXBkYXRlTWFzdGVyeSIsIm0iLCJlYXNlIiwiaW50ZXJ2YWxTZWMiLCJrZXkiLCJzY29yZSIsImR1ZUF0IiwibGFzdFJlc3VsdCIsInJvdW5kIiwidXNlR2FtZVN0b3JlIiwiZ2V0Iiwic3RhcnRTZXNzaW9uIiwicyIsImVuZFNlc3Npb24iLCJkdXJhdGlvbk1zIiwibGFzdFNlc3Npb24iLCJhdHRlbXB0cyIsInNldExhbmd1YWdlIiwibGFuZyIsInNldFRoZW1lIiwibmV4dENoYWxsZW5nZSIsImNoIiwiY3VycmVudCIsInN0YXJ0ZWRBdCIsInZhbHVlIiwidGltZU1zIiwicHJldiIsInVwZGF0ZWQiLCJwb2ludHNCYXNlIiwic3RyZWFrQm9udXMiLCJtaW4iLCJ0YXJnZXQiLCJyZXZpZXdNb2RlIiwiY2hhbXBpb25QZW5kaW5nIiwiYmFkZ2VGbGFzaCIsInNldFRpbWVvdXQiLCJuZXh0TGV2ZWwiLCJsZXZlbFVwUGVuZGluZyIsInIiLCJta2V5IiwicSIsInNsaWNlIiwiaW5jbHVkZXMiLCJwdXNoIiwidG9nZ2xlU291bmQiLCJkaXNtaXNzTGV2ZWxVcCIsImRpc21pc3NDaGFtcGlvbiIsImZsYXNoQmFkZ2UiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/store.ts\n"));

/***/ })

});