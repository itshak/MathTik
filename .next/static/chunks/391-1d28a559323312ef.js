"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{6391:function(e,l,a){a.d(l,{O:function(){return r},g:function(){return b}});var d=a(9625),i=a(6885);let s=e=>Math.floor(Math.random()*e),o=(e,l,a)=>Math.max(l,Math.min(a,e)),n=(e,l,a)=>"mul"===e?"m:".concat(l,"x").concat(a):"d:".concat(l,"/").concat(a),v=JSON.parse('{"hB":[{"id":"m:1x1","op":"mul","a":1,"b":1,"answer":1,"level":1},{"id":"m:1x2","op":"mul","a":1,"b":2,"answer":2,"level":1},{"id":"m:1x3","op":"mul","a":1,"b":3,"answer":3,"level":1},{"id":"m:1x4","op":"mul","a":1,"b":4,"answer":4,"level":1},{"id":"m:1x5","op":"mul","a":1,"b":5,"answer":5,"level":1},{"id":"m:1x6","op":"mul","a":1,"b":6,"answer":6,"level":1},{"id":"m:1x7","op":"mul","a":1,"b":7,"answer":7,"level":1},{"id":"m:1x8","op":"mul","a":1,"b":8,"answer":8,"level":1},{"id":"m:1x9","op":"mul","a":1,"b":9,"answer":9,"level":1},{"id":"m:1x10","op":"mul","a":1,"b":10,"answer":10,"level":1},{"id":"d:1/1","op":"div","a":1,"b":1,"answer":1,"level":1},{"id":"d:2/1","op":"div","a":2,"b":1,"answer":2,"level":1},{"id":"d:3/1","op":"div","a":3,"b":1,"answer":3,"level":1},{"id":"d:4/1","op":"div","a":4,"b":1,"answer":4,"level":1},{"id":"d:5/1","op":"div","a":5,"b":1,"answer":5,"level":1},{"id":"d:6/1","op":"div","a":6,"b":1,"answer":6,"level":1},{"id":"d:7/1","op":"div","a":7,"b":1,"answer":7,"level":1},{"id":"d:8/1","op":"div","a":8,"b":1,"answer":8,"level":1},{"id":"d:9/1","op":"div","a":9,"b":1,"answer":9,"level":1},{"id":"d:10/1","op":"div","a":10,"b":1,"answer":10,"level":1},{"id":"m:2x1","op":"mul","a":2,"b":1,"answer":2,"level":2},{"id":"m:2x2","op":"mul","a":2,"b":2,"answer":4,"level":2},{"id":"m:2x3","op":"mul","a":2,"b":3,"answer":6,"level":2},{"id":"m:2x4","op":"mul","a":2,"b":4,"answer":8,"level":2},{"id":"m:2x5","op":"mul","a":2,"b":5,"answer":10,"level":2},{"id":"m:2x6","op":"mul","a":2,"b":6,"answer":12,"level":2},{"id":"m:2x7","op":"mul","a":2,"b":7,"answer":14,"level":2},{"id":"m:2x8","op":"mul","a":2,"b":8,"answer":16,"level":2},{"id":"m:2x9","op":"mul","a":2,"b":9,"answer":18,"level":2},{"id":"m:2x10","op":"mul","a":2,"b":10,"answer":20,"level":2},{"id":"d:2/2","op":"div","a":2,"b":2,"answer":1,"level":2},{"id":"d:4/2","op":"div","a":4,"b":2,"answer":2,"level":2},{"id":"d:6/2","op":"div","a":6,"b":2,"answer":3,"level":2},{"id":"d:8/2","op":"div","a":8,"b":2,"answer":4,"level":2},{"id":"d:10/2","op":"div","a":10,"b":2,"answer":5,"level":2},{"id":"d:12/2","op":"div","a":12,"b":2,"answer":6,"level":2},{"id":"d:14/2","op":"div","a":14,"b":2,"answer":7,"level":2},{"id":"d:16/2","op":"div","a":16,"b":2,"answer":8,"level":2},{"id":"d:18/2","op":"div","a":18,"b":2,"answer":9,"level":2},{"id":"d:20/2","op":"div","a":20,"b":2,"answer":10,"level":2},{"id":"m:5x1","op":"mul","a":5,"b":1,"answer":5,"level":3},{"id":"m:5x2","op":"mul","a":5,"b":2,"answer":10,"level":3},{"id":"m:5x3","op":"mul","a":5,"b":3,"answer":15,"level":3},{"id":"m:5x4","op":"mul","a":5,"b":4,"answer":20,"level":3},{"id":"m:5x5","op":"mul","a":5,"b":5,"answer":25,"level":3},{"id":"m:5x6","op":"mul","a":5,"b":6,"answer":30,"level":3},{"id":"m:5x7","op":"mul","a":5,"b":7,"answer":35,"level":3},{"id":"m:5x8","op":"mul","a":5,"b":8,"answer":40,"level":3},{"id":"m:5x9","op":"mul","a":5,"b":9,"answer":45,"level":3},{"id":"m:5x10","op":"mul","a":5,"b":10,"answer":50,"level":3},{"id":"d:5/5","op":"div","a":5,"b":5,"answer":1,"level":3},{"id":"d:10/5","op":"div","a":10,"b":5,"answer":2,"level":3},{"id":"d:15/5","op":"div","a":15,"b":5,"answer":3,"level":3},{"id":"d:20/5","op":"div","a":20,"b":5,"answer":4,"level":3},{"id":"d:25/5","op":"div","a":25,"b":5,"answer":5,"level":3},{"id":"d:30/5","op":"div","a":30,"b":5,"answer":6,"level":3},{"id":"d:35/5","op":"div","a":35,"b":5,"answer":7,"level":3},{"id":"d:40/5","op":"div","a":40,"b":5,"answer":8,"level":3},{"id":"d:45/5","op":"div","a":45,"b":5,"answer":9,"level":3},{"id":"d:50/5","op":"div","a":50,"b":5,"answer":10,"level":3},{"id":"m:10x1","op":"mul","a":10,"b":1,"answer":10,"level":4},{"id":"m:10x2","op":"mul","a":10,"b":2,"answer":20,"level":4},{"id":"m:10x3","op":"mul","a":10,"b":3,"answer":30,"level":4},{"id":"m:10x4","op":"mul","a":10,"b":4,"answer":40,"level":4},{"id":"m:10x5","op":"mul","a":10,"b":5,"answer":50,"level":4},{"id":"m:10x6","op":"mul","a":10,"b":6,"answer":60,"level":4},{"id":"m:10x7","op":"mul","a":10,"b":7,"answer":70,"level":4},{"id":"m:10x8","op":"mul","a":10,"b":8,"answer":80,"level":4},{"id":"m:10x9","op":"mul","a":10,"b":9,"answer":90,"level":4},{"id":"m:10x10","op":"mul","a":10,"b":10,"answer":100,"level":4},{"id":"d:10/10","op":"div","a":10,"b":10,"answer":1,"level":4},{"id":"d:20/10","op":"div","a":20,"b":10,"answer":2,"level":4},{"id":"d:30/10","op":"div","a":30,"b":10,"answer":3,"level":4},{"id":"d:40/10","op":"div","a":40,"b":10,"answer":4,"level":4},{"id":"d:50/10","op":"div","a":50,"b":10,"answer":5,"level":4},{"id":"d:60/10","op":"div","a":60,"b":10,"answer":6,"level":4},{"id":"d:70/10","op":"div","a":70,"b":10,"answer":7,"level":4},{"id":"d:80/10","op":"div","a":80,"b":10,"answer":8,"level":4},{"id":"d:90/10","op":"div","a":90,"b":10,"answer":9,"level":4},{"id":"d:100/10","op":"div","a":100,"b":10,"answer":10,"level":4},{"id":"m:3x1","op":"mul","a":3,"b":1,"answer":3,"level":5},{"id":"m:3x2","op":"mul","a":3,"b":2,"answer":6,"level":5},{"id":"m:3x3","op":"mul","a":3,"b":3,"answer":9,"level":5},{"id":"m:3x4","op":"mul","a":3,"b":4,"answer":12,"level":5},{"id":"m:3x5","op":"mul","a":3,"b":5,"answer":15,"level":5},{"id":"m:3x6","op":"mul","a":3,"b":6,"answer":18,"level":5},{"id":"m:3x7","op":"mul","a":3,"b":7,"answer":21,"level":5},{"id":"m:3x8","op":"mul","a":3,"b":8,"answer":24,"level":5},{"id":"m:3x9","op":"mul","a":3,"b":9,"answer":27,"level":5},{"id":"m:3x10","op":"mul","a":3,"b":10,"answer":30,"level":5},{"id":"d:3/3","op":"div","a":3,"b":3,"answer":1,"level":5},{"id":"d:6/3","op":"div","a":6,"b":3,"answer":2,"level":5},{"id":"d:9/3","op":"div","a":9,"b":3,"answer":3,"level":5},{"id":"d:12/3","op":"div","a":12,"b":3,"answer":4,"level":5},{"id":"d:15/3","op":"div","a":15,"b":3,"answer":5,"level":5},{"id":"d:18/3","op":"div","a":18,"b":3,"answer":6,"level":5},{"id":"d:21/3","op":"div","a":21,"b":3,"answer":7,"level":5},{"id":"d:24/3","op":"div","a":24,"b":3,"answer":8,"level":5},{"id":"d:27/3","op":"div","a":27,"b":3,"answer":9,"level":5},{"id":"d:30/3","op":"div","a":30,"b":3,"answer":10,"level":5},{"id":"m:4x1","op":"mul","a":4,"b":1,"answer":4,"level":6},{"id":"m:4x2","op":"mul","a":4,"b":2,"answer":8,"level":6},{"id":"m:4x3","op":"mul","a":4,"b":3,"answer":12,"level":6},{"id":"m:4x4","op":"mul","a":4,"b":4,"answer":16,"level":6},{"id":"m:4x5","op":"mul","a":4,"b":5,"answer":20,"level":6},{"id":"m:4x6","op":"mul","a":4,"b":6,"answer":24,"level":6},{"id":"m:4x7","op":"mul","a":4,"b":7,"answer":28,"level":6},{"id":"m:4x8","op":"mul","a":4,"b":8,"answer":32,"level":6},{"id":"m:4x9","op":"mul","a":4,"b":9,"answer":36,"level":6},{"id":"m:4x10","op":"mul","a":4,"b":10,"answer":40,"level":6},{"id":"d:4/4","op":"div","a":4,"b":4,"answer":1,"level":6},{"id":"d:8/4","op":"div","a":8,"b":4,"answer":2,"level":6},{"id":"d:12/4","op":"div","a":12,"b":4,"answer":3,"level":6},{"id":"d:16/4","op":"div","a":16,"b":4,"answer":4,"level":6},{"id":"d:20/4","op":"div","a":20,"b":4,"answer":5,"level":6},{"id":"d:24/4","op":"div","a":24,"b":4,"answer":6,"level":6},{"id":"d:28/4","op":"div","a":28,"b":4,"answer":7,"level":6},{"id":"d:32/4","op":"div","a":32,"b":4,"answer":8,"level":6},{"id":"d:36/4","op":"div","a":36,"b":4,"answer":9,"level":6},{"id":"d:40/4","op":"div","a":40,"b":4,"answer":10,"level":6},{"id":"m:6x1","op":"mul","a":6,"b":1,"answer":6,"level":7},{"id":"m:6x2","op":"mul","a":6,"b":2,"answer":12,"level":7},{"id":"m:6x3","op":"mul","a":6,"b":3,"answer":18,"level":7},{"id":"m:6x4","op":"mul","a":6,"b":4,"answer":24,"level":7},{"id":"m:6x5","op":"mul","a":6,"b":5,"answer":30,"level":7},{"id":"m:6x6","op":"mul","a":6,"b":6,"answer":36,"level":7},{"id":"m:6x7","op":"mul","a":6,"b":7,"answer":42,"level":7},{"id":"m:6x8","op":"mul","a":6,"b":8,"answer":48,"level":7},{"id":"m:6x9","op":"mul","a":6,"b":9,"answer":54,"level":7},{"id":"m:6x10","op":"mul","a":6,"b":10,"answer":60,"level":7},{"id":"d:6/6","op":"div","a":6,"b":6,"answer":1,"level":7},{"id":"d:12/6","op":"div","a":12,"b":6,"answer":2,"level":7},{"id":"d:18/6","op":"div","a":18,"b":6,"answer":3,"level":7},{"id":"d:24/6","op":"div","a":24,"b":6,"answer":4,"level":7},{"id":"d:30/6","op":"div","a":30,"b":6,"answer":5,"level":7},{"id":"d:36/6","op":"div","a":36,"b":6,"answer":6,"level":7},{"id":"d:42/6","op":"div","a":42,"b":6,"answer":7,"level":7},{"id":"d:48/6","op":"div","a":48,"b":6,"answer":8,"level":7},{"id":"d:54/6","op":"div","a":54,"b":6,"answer":9,"level":7},{"id":"d:60/6","op":"div","a":60,"b":6,"answer":10,"level":7},{"id":"m:7x1","op":"mul","a":7,"b":1,"answer":7,"level":8},{"id":"m:7x2","op":"mul","a":7,"b":2,"answer":14,"level":8},{"id":"m:7x3","op":"mul","a":7,"b":3,"answer":21,"level":8},{"id":"m:7x4","op":"mul","a":7,"b":4,"answer":28,"level":8},{"id":"m:7x5","op":"mul","a":7,"b":5,"answer":35,"level":8},{"id":"m:7x6","op":"mul","a":7,"b":6,"answer":42,"level":8},{"id":"m:7x7","op":"mul","a":7,"b":7,"answer":49,"level":8},{"id":"m:7x8","op":"mul","a":7,"b":8,"answer":56,"level":8},{"id":"m:7x9","op":"mul","a":7,"b":9,"answer":63,"level":8},{"id":"m:7x10","op":"mul","a":7,"b":10,"answer":70,"level":8},{"id":"d:7/7","op":"div","a":7,"b":7,"answer":1,"level":8},{"id":"d:14/7","op":"div","a":14,"b":7,"answer":2,"level":8},{"id":"d:21/7","op":"div","a":21,"b":7,"answer":3,"level":8},{"id":"d:28/7","op":"div","a":28,"b":7,"answer":4,"level":8},{"id":"d:35/7","op":"div","a":35,"b":7,"answer":5,"level":8},{"id":"d:42/7","op":"div","a":42,"b":7,"answer":6,"level":8},{"id":"d:49/7","op":"div","a":49,"b":7,"answer":7,"level":8},{"id":"d:56/7","op":"div","a":56,"b":7,"answer":8,"level":8},{"id":"d:63/7","op":"div","a":63,"b":7,"answer":9,"level":8},{"id":"d:70/7","op":"div","a":70,"b":7,"answer":10,"level":8},{"id":"m:8x1","op":"mul","a":8,"b":1,"answer":8,"level":9},{"id":"m:8x2","op":"mul","a":8,"b":2,"answer":16,"level":9},{"id":"m:8x3","op":"mul","a":8,"b":3,"answer":24,"level":9},{"id":"m:8x4","op":"mul","a":8,"b":4,"answer":32,"level":9},{"id":"m:8x5","op":"mul","a":8,"b":5,"answer":40,"level":9},{"id":"m:8x6","op":"mul","a":8,"b":6,"answer":48,"level":9},{"id":"m:8x7","op":"mul","a":8,"b":7,"answer":56,"level":9},{"id":"m:8x8","op":"mul","a":8,"b":8,"answer":64,"level":9},{"id":"m:8x9","op":"mul","a":8,"b":9,"answer":72,"level":9},{"id":"m:8x10","op":"mul","a":8,"b":10,"answer":80,"level":9},{"id":"d:8/8","op":"div","a":8,"b":8,"answer":1,"level":9},{"id":"d:16/8","op":"div","a":16,"b":8,"answer":2,"level":9},{"id":"d:24/8","op":"div","a":24,"b":8,"answer":3,"level":9},{"id":"d:32/8","op":"div","a":32,"b":8,"answer":4,"level":9},{"id":"d:40/8","op":"div","a":40,"b":8,"answer":5,"level":9},{"id":"d:48/8","op":"div","a":48,"b":8,"answer":6,"level":9},{"id":"d:56/8","op":"div","a":56,"b":8,"answer":7,"level":9},{"id":"d:64/8","op":"div","a":64,"b":8,"answer":8,"level":9},{"id":"d:72/8","op":"div","a":72,"b":8,"answer":9,"level":9},{"id":"d:80/8","op":"div","a":80,"b":8,"answer":10,"level":9},{"id":"m:9x1","op":"mul","a":9,"b":1,"answer":9,"level":10},{"id":"m:9x2","op":"mul","a":9,"b":2,"answer":18,"level":10},{"id":"m:9x3","op":"mul","a":9,"b":3,"answer":27,"level":10},{"id":"m:9x4","op":"mul","a":9,"b":4,"answer":36,"level":10},{"id":"m:9x5","op":"mul","a":9,"b":5,"answer":45,"level":10},{"id":"m:9x6","op":"mul","a":9,"b":6,"answer":54,"level":10},{"id":"m:9x7","op":"mul","a":9,"b":7,"answer":63,"level":10},{"id":"m:9x8","op":"mul","a":9,"b":8,"answer":72,"level":10},{"id":"m:9x9","op":"mul","a":9,"b":9,"answer":81,"level":10},{"id":"m:9x10","op":"mul","a":9,"b":10,"answer":90,"level":10},{"id":"d:9/9","op":"div","a":9,"b":9,"answer":1,"level":10},{"id":"d:18/9","op":"div","a":18,"b":9,"answer":2,"level":10},{"id":"d:27/9","op":"div","a":27,"b":9,"answer":3,"level":10},{"id":"d:36/9","op":"div","a":36,"b":9,"answer":4,"level":10},{"id":"d:45/9","op":"div","a":45,"b":9,"answer":5,"level":10},{"id":"d:54/9","op":"div","a":54,"b":9,"answer":6,"level":10},{"id":"d:63/9","op":"div","a":63,"b":9,"answer":7,"level":10},{"id":"d:72/9","op":"div","a":72,"b":9,"answer":8,"level":10},{"id":"d:81/9","op":"div","a":81,"b":9,"answer":9,"level":10},{"id":"d:90/9","op":"div","a":90,"b":9,"answer":10,"level":10}]}').hB,r=[{id:"star",label:"Shiny Star",emoji:"\uD83C\uDF1F",cost:50},{id:"rocket",label:"Rocket",emoji:"\uD83D\uDE80",cost:120},{id:"rainbow",label:"Rainbow",emoji:"\uD83C\uDF08",cost:250},{id:"unicorn",label:"Unicorn",emoji:"\uD83E\uDD84",cost:400}],m={profile:{points:0,streak:0,bestStreak:0,level:1,maxFactor:2,levelXP:0,totalCorrect:0,totalAttempts:0,soundOn:!0,unlocked:{},language:"en",theme:"buzz"},mastery:{},recentMistakes:[],lastOp:void 0,sessionStartAt:void 0,sessionAttempts:0,sessionCorrect:0},p={1:0,2:.2,3:.1,4:.2,5:.2,6:.2,7:.25,8:.3,9:.3,10:.4},b=(0,d.Ue)()((0,i.tJ)((e,l)=>({...m,startSession:()=>e(e=>e.sessionStartAt?e:{sessionStartAt:Date.now(),sessionAttempts:0,sessionCorrect:0}),endSession:()=>e(e=>e.sessionStartAt?{lastSession:{durationMs:Date.now()-e.sessionStartAt,attempts:e.sessionAttempts,correct:e.sessionCorrect},sessionStartAt:void 0}:e),setLanguage:l=>e(e=>({profile:{...e.profile,language:l}})),setTheme:l=>e(e=>({profile:{...e.profile,theme:l}})),nextChallenge:()=>{let a=function(e){var l,a,d,i;let o=null!==(l=p[e])&&void 0!==l?l:.2,n=function(e,l){var a;let d=v.filter(l=>l.level===e),i=(a=e-1,v.filter(e=>e.level<=a)),s=e>1&&i.length>0&&Math.random()<l?i:d;return s[Math.floor(Math.random()*s.length)]}(e,o);return{id:"".concat(n.id,":").concat(Date.now()),op:n.op,a:n.a,b:n.b,answer:n.answer,choices:function(e){let l=new Set([e]);for(;l.size<4;){let a=s(9)-4,d=Math.max(0,e+a+(0===a?s(3)+1:0));l.add(d)}return function(e){let l=e.slice();for(let e=l.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[l[e],l[a]]=[l[a],l[e]]}return l}([...l])}(n.answer),game:(a=n.op,d=n.a,i=n.b,"mul"===a?d*i>12?"coins-multiply-groups":"multiply-groups":d>12?"coins-division-dealer":"division-dealer"),input:.75>Math.random()?"mc":"wheel"}}(l().profile.level);e({current:a,startedAt:Date.now(),lastOp:a.op})},answer:a=>{var d,i,s,v;let m=l(),p=m.current;if(!p)return;let b=a===p.answer;Date.now(),null!==(d=m.startedAt)&&void 0!==d||Date.now();let w=n(p.op,p.a,p.b),t=m.mastery[w],u=function(e,l){let a=Math.floor(Date.now()/1e3);if(!e)return{key:"",score:l?1:0,ease:l?2:1.6,intervalSec:10,dueAt:a+10,lastResult:l};let d=o(e.score+(l?1:-2),0,5),i=o(e.ease+(l?.08:-.2),1.2,2.6),s=l?Math.max(10,Math.round(e.intervalSec*i)):10;return{...e,score:d,ease:i,intervalSec:s,dueAt:a+s,lastResult:l}}(t&&{...t,key:w},b);u.key=w;let x=Math.min(10,Math.max(0,2*m.profile.streak)),c={...m.profile};if(c.totalAttempts+=1,b){if(c.totalCorrect+=1,c.streak+=1,c.bestStreak=Math.max(c.bestStreak,c.streak),c.points+=10+x,c.levelXP=(null!==(i=c.levelXP)&&void 0!==i?i:0)+1,c.levelXP>=10){if(c.level>=10)c.level=10,c.maxFactor=10,c.levelXP=0,e({reviewMode:!0,championPending:!0,badgeFlash:!0}),setTimeout(()=>e({badgeFlash:!1}),1400);else{let l=o(c.level+1,1,10);c.level=l,c.maxFactor=l,c.levelXP=0,e({levelUpPending:l,badgeFlash:!0}),setTimeout(()=>e({badgeFlash:!1}),1400)}}for(let e of r)c.points>=e.cost&&(c.unlocked[e.id]=!0)}else{c.streak=0;let l="mul"===p.op?"m:".concat(p.a,"x").concat(p.b):"d:".concat(p.a,"/").concat(p.b),a=m.recentMistakes.slice();a.includes(l)||a.push(l),e({recentMistakes:a})}e({profile:c,mastery:{...m.mastery,[u.key]:u},sessionAttempts:(null!==(s=m.sessionAttempts)&&void 0!==s?s:0)+1,sessionCorrect:(null!==(v=m.sessionCorrect)&&void 0!==v?v:0)+(b?1:0)}),l().nextChallenge()},toggleSound:()=>e(e=>({profile:{...e.profile,soundOn:!e.profile.soundOn}})),dismissLevelUp:()=>e({levelUpPending:void 0}),dismissChampion:()=>e({championPending:void 0}),flashBadge:()=>{e({badgeFlash:!0}),setTimeout(()=>e({badgeFlash:!1}),1200)}}),{name:"mg2_state"}))}}]);